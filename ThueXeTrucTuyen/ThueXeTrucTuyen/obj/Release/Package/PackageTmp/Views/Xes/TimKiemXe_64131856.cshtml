@model IEnumerable<ThueXeTrucTuyen.Models.Xe>
@{
    ViewBag.Title = "Tìm kiếm xe";
}

<h2 class="text-center mb-4">Bạn muốn thuê xe ??</h2>

@using (Html.BeginForm("TimKiemXe_64131856", "Xes", FormMethod.Get))
{
    <div class="form-container">
        <div class="row">
            <div class="col-md-6">
                <label for="maXe">Mã xe:</label>
                @Html.TextBox("maXe", ViewBag.MaXe as string, new { @class = "form-control" })
            </div>
            <div class="col-md-6">
                <label for="tenXe">Tên xe:</label>
                @Html.TextBox("tenXe", ViewBag.TenXe as string, new { @class = "form-control" })
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <label for="bienSo">Biển số:</label>
                @Html.TextBox("bienSo", ViewBag.BienSo as string, new { @class = "form-control" })
            </div>
            <div class="col-md-6">
                <label for="namSX">Năm sản xuất:</label>
                @Html.TextBox("namSX", ViewBag.NamSX as string, new { @class = "form-control" })
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <label for="loaiXe">Loại xe:</label>
                @Html.TextBox("loaiXe", ViewBag.LoaiXe as string, new { @class = "form-control" })
            </div>
            <div class="col-md-6">
                <label for="giaThue">Giá thuê tối đa:</label>
                @Html.TextBox("giaThue", ViewBag.GiaThue as string, new { @class = "form-control" })
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <label for="hangXe">Hãng xe:</label>
                @Html.TextBox("hangXe", ViewBag.HangXe as string, new { @class = "form-control" })
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-12 text-center">
                <input type="submit" value="Tìm kiếm" class="btn btn-primary" />
            </div>
        </div>
    </div>
}



@if (ViewBag.TB != null)
{
    <div style="color:red" class="text-center">@ViewBag.TB</div>
}


<!-- Kết quả tìm kiếm -->
<div class="container-fluid px-0" style="max-width: 100vw;">
    <div class="row">
        @if (Model != null && Model.Any())
        {
            foreach (var item in Model)
            {
                <div class="col-md-4">
                    <div class="card mb-4 shadow-sm">
                        <img src="@Url.Content("~/Images/" + item.hinh_xe)" class="card-img-top" alt="@item.ten_xe">
                        <div class="card-body">
                            <h5 class="card-title">@item.ten_xe</h5>
                            <p class="card-text"><strong>Mã xe:</strong> @item.id</p>
                            <p class="card-text"><strong>Biển số:</strong> @item.bien_so</p>
                            <p class="card-text"><strong>Năm sản xuất:</strong> @item.nam_san_xuat</p>
                            <p class="card-text"><strong>Loại xe:</strong> @item.loai_xe</p>
                            <p class="card-text"><strong>Hãng xe:</strong> @item.HangXe.ten_hang</p>
                            <p class="card-text"><strong>Giá thuê/ngày:</strong> @item.gia_thue_ngay VNĐ</p>
                            <p class="card-text">
                                <strong>Trạng thái:</strong>
                                <span class="badge @(item.trang_thai == "Có Sẵn" ? "bg-success" : "bg-danger")">
                                    @item.trang_thai
                                </span>
                            </p>
                            <div class="d-flex justify-content-between">
                                @Html.ActionLink("Sửa", "Edit", new { id = item.id }, new { @class = "btn btn-warning btn-sm" })
                                @Html.ActionLink("Chi tiết", "Details", new { id = item.id }, new { @class = "btn btn-info btn-sm" })
                                @Html.ActionLink("Xóa", "Delete", new { id = item.id }, new { @class = "btn btn-danger btn-sm" })
                            </div>
                        </div>
                    </div>
                </div>
            }

        }
        else
        {
            <p class="text-center">Không có kết quả tìm kiếm.</p>
        }

    </div>

</div>

<a href="@Url.Action("Create", "Xes")" class="btn btn-them">Thêm</a>
<!-- CSS -->
<style>
    .form-container .row {
        margin-bottom: 15px;
    }

    .form-container label {
        font-weight: bold;
    }

    .form-control {
        padding: 10px;
        margin: 5px 0;
        border-radius: 5px;
    }

    .btn {
        width: 30%;
        font-weight: bold;
        text-align: center;
        padding: 10px 15px;
        border-radius: 8px;
    }

    .card {
        border-radius: 15px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: none;
        background: linear-gradient(to bottom, #ffffff, #f8f9fa);
        position: relative;
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

    .card-img-top {
        height: 220px;
        object-fit: cover;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
        transition: transform 0.4s ease-in-out;
    }

    .card:hover .card-img-top {
        transform: scale(1.08);
        filter: brightness(0.9);
    }

    .card-title {
        font-size: 1.6rem;
        font-weight: bold;
        color: #003366;
        text-transform: uppercase;
        text-align: center;
        padding: 10px 0;
    }

    .badge {
        padding: 7px 15px;
        font-size: 1rem;
        font-weight: bold;
        border-radius: 50px;
        letter-spacing: 0.5px;
    }

    .badge-thue {
        background-color: #e74c3c;
        color: white;
    }

    .badge-chua-thue {
        background-color: #27ae60;
        color: white;
    }

    .btn-warning {
        background-color: #f39c12;
        color: white;
        border: none;
    }

        .btn-warning:hover {
            background-color: #e67e22;
            color: white;
        }

    .btn-info {
        background-color: #3498db;
        color: white;
        border: none;
    }

        .btn-info:hover {
            background-color: #2980b9;
            color: white;
        }

    .btn-danger {
        background-color: #c0392b;
        color: white;
        border: none;
    }

        .btn-danger:hover {
            background-color: #922b21;
            color: white;
        }

    /* Nút Thêm */
    .btn-them {
        background-color: #2ecc71;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 12px 20px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease-in-out;
        margin-top: 20px;
        display: inline-block;
        text-decoration: none; /* bỏ gạch chân cho link */
        text-align: center;
    }

        .btn-them:hover {
            background-color: #27ae60;
            transform: scale(1.05);
        }

        .btn-them:focus {
            outline: none;
        }
</style>
